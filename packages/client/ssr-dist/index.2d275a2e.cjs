"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("./ssr.6f1a65a0.cjs"),w=require("./RouterConst.dc826219.cjs"),y="_forumBlock_if6oa_1",M="_paginationNav_if6oa_15",N={forumBlock:y,paginationNav:M},p="_item_1mj3w_1",E="_itemInfo_1mj3w_11",v="_itemAuthor_1mj3w_25",D="_itemDate_1mj3w_33",R="_itemInner_1mj3w_41",B="_itemName_1mj3w_71",C="_itemCountMsg_1mj3w_73",l={item:p,itemInfo:E,itemAuthor:v,itemDate:D,itemInner:R,itemName:B,itemCountMsg:C},k=({themeId:o,createdById:a,date:e,countMsg:n,themeName:c})=>t.jsx("li",{className:l.item,"data-id-theme":o,children:t.jsxs(t.Link,{to:`${w.ROUTES.FORUM}/${o}`,children:[t.jsxs("div",{className:l.itemInfo,children:[t.jsxs("div",{className:l.itemAuthor,children:[a,","," "]}),t.jsx("div",{className:l.itemDate,children:e.toLocaleString()})]}),t.jsxs("div",{className:l.itemInner,children:[t.jsx("div",{className:l.itemName,children:c}),t.jsxs("div",{className:l.itemCountMsg,children:["\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439:",n]})]})]})}),g=(o,a)=>{const e=a-o+1;return Array.from({length:e},(n,c)=>c+o)},f=0,S=({totalCount:o,pageSize:a,siblingCount:e=1,currentPage:n})=>t.reactExports.useMemo(()=>{const s=Math.ceil(o/a);if(e+5>=s)return g(1,s);const d=Math.max(n-e,1),u=Math.min(n+e,s),i=d>2,h=u<s-2,I=1,x=s;if(!i&&h){const _=3+2*e;return[...g(1,_),f,s]}if(i&&!h){const _=3+2*e,j=g(s-_+1,s);return[I,f,...j]}if(i&&h){const _=g(d,u);return[I,f,..._,f,x]}return[]},[o,a,e,n]),F="_paginationContainer_16hnd_1",A="_paginationItem_16hnd_11",T="_dots_16hnd_43",$="_selected_16hnd_63",O="_arrow_16hnd_73",P="_left_16hnd_97",L="_right_16hnd_105",U="_disabled_16hnd_115",m={paginationContainer:F,paginationItem:A,dots:T,selected:$,arrow:O,left:P,right:L,disabled:U},b=({onPageChange:o,totalCount:a,siblingCount:e=1,currentPage:n,pageSize:c})=>{const s=S({currentPage:n,totalCount:a,siblingCount:e,pageSize:c});if(n===0||s.length<2)return null;const r=()=>{n>a/c||o(n+1)},d=()=>{n<a/c||o(n-1)},u=s[s.length-1];return t.jsxs("ul",{className:t.cn(m.paginationContainer,{}),children:[t.jsx("li",{className:t.cn(m.paginationItem,{disabled:n===1}),onClick:d,children:t.jsx("div",{className:t.cn(m.arrow,m.left)})}),s.map(i=>i===f?t.jsx("li",{className:m["paginationItem dots"],children:"\u2026"},i):t.jsx("li",{className:t.cn(m.paginationItem,{[m.selected]:i===n}),onClick:()=>o(i),children:i},i)),t.jsx("li",{className:t.cn(m.paginationItem,{[m.disabled]:n===u}),onClick:r,children:t.jsx("div",{className:t.cn(m.arrow,m.right)})})]})},q=(o,a,e)=>{const[n,c]=t.reactExports.useState([]);return t.reactExports.useEffect(()=>{const s=[];for(let r=a*e-e;r<a*e;r+=1)s.push(o[r]||null);c(s)},[a,o,e]),n},H=()=>{const[o,a]=t.reactExports.useState([]),[e,n]=t.reactExports.useState(1),c=t.reactExports.useRef(7),s=t.reactExports.useRef([{themeId:10,createdById:4,countMsg:22,date:new Date,themeName:"my new theme"},{themeId:11,createdById:4,countMsg:12,date:new Date,themeName:"my new second theme"},{themeId:12,createdById:4,countMsg:22,date:new Date,themeName:"my new theme"},{themeId:13,createdById:4,countMsg:12,date:new Date,themeName:"my new second theme"},{themeId:14,createdById:2,countMsg:2,date:new Date,themeName:"my new third theme"},{themeId:15,createdById:4,countMsg:22,date:new Date,themeName:"my new theme"},{themeId:16,createdById:4,countMsg:12,date:new Date,themeName:"my new second theme"},{themeId:17,createdById:2,countMsg:2,date:new Date,themeName:"my new third theme"}]),r=q(s.current,e,c.current);return t.reactExports.useEffect(()=>{a(r)},[r]),t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:N.forumBlock,children:o.map(d=>{if(d===null)return;const{themeId:u,createdById:i,date:h,countMsg:I,themeName:x}=d;return t.jsx(k,{themeId:u,createdById:i,date:h,countMsg:I,themeName:x},u)})}),t.jsx("nav",{className:N.paginationNav,children:t.jsx(b,{currentPage:e,totalCount:s.current.length,pageSize:c.current,onPageChange:n})})]})},G="_forum_1fy78_1",X={forum:G},Z=()=>t.jsxs("div",{className:X.forum,children:[t.jsx(t.MenuHeader,{text:"\u0424\u043E\u0440\u0443\u043C",buttonText:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0442\u0435\u043C\u0443"}),t.jsx(H,{})]}),J=Z;exports.default=J;
